<ui:composition xmlns="https://www.w3.org/1999/xhtml"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://java.sun.com/jsf/passthrough"
	template="templates/template.xhtml">
	<meta charset="ISO-8859-1" />
	<ui:define name="maincontent">
	<script type="text/javascript">
				//<![CDATA[				
				function performPostAjaxCommands() {
					$("#basket_item_removed_popup").show();
				}

				function closeRemoveItemPopup() {
					$("#basket_item_removed_popup").hide();
				}
				//]]>
			</script>


			<div id="basket_item_removed_popup">
				<img onclick="closeRemoveItemPopup()" id="item_popup_close_button"
					src="img/BasketImages/popupclose.png" />
				<p>Details Changed</p>
			</div>
		<article class="wholebody">

			<div class="editdetails">
				<h4>Edit Your Details</h4>

				<div class="col-12 col-m-9">
					<div class="changedetails">
						<h:form>

							<br />
							<h:outputText value="First Name: " />
							<br />
							<h:inputText value="#{editdetails.firstname}" required="true"
								requiredMessage="First Name" />
							<br />
							<br />

							<h:outputText value="Surname: " />
							<br />
							<h:inputText value="#{editdetails.surname}" required="true"
								requiredMessage="Surname" />
							<br />
							<br />
							<h:outputText value="Phone number: " />
							<br />
							<h:inputText value="#{editdetails.phoneNumber}" required="true"
								requiredMessage="Phone number" />
							<br />
							<br />
							<h:outputText value="Email: " />
							<br />
							<h:inputText value="#{editdetails.email}" required="true"
								requiredMessage="Email" p:type="email"
								validatorMessage="Invalid email format" />
							<br />
							<br />
							<h:outputText
								value="Please enter your username and password to confirm changes" />
							<br />
							<h:outputText value="Username: " />
							<br />
							<h:inputText value="#{editdetails.username}" required="true"
								requiredMessage="Username" />
							<br />
							<br />
							<h:outputText value="Password: " />
							<br />
							<h:inputSecret value="#{editdetails.password}" required="true"
								requiredMessage="Password" />
							<br />
							<br />
							<div class="errortext">
								<h:outputText value="#{editdetails.error}"
									 style="color:red" />
							</div>


							<h:commandButton type="submit" name="editdetails" value="Submit"
								action="#{editdetails.updateCustomer}" >
								<f:ajax execute="@form" render="@all" onevent="performPostAjaxCommands()"/>
								</h:commandButton> 
						</h:form>
					</div>
				</div>
			</div>
		</article>

	</ui:define>
</ui:composition>