<ui:composition xmlns="https://www.w3.org/1999/xhtml"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	template="templates/template.xhtml">
	<meta charset="ISO-8859-1" />
	<ui:define name="maincontent">

		<f:metadata>
			<f:event type="preRenderView" listener="#{filter.load}" />
		</f:metadata>

		<div class="row">
			<!-- Main content for the page -->


			<h:form class="col-3 col-m-6 tagbar">
				<h:selectManyCheckbox layout="pageDirection"
					value="#{filter.filter}">
					<f:selectItems value="#{products.tagModel}" var="tag"
						itemLabel="#{tag.name}" itemValue="#{tag.name}" />
					<f:ajax listener="#{filter.filterProducts}" render="@all" />
				</h:selectManyCheckbox>

			</h:form>



			<h:form>
				<div class="col-9 col-m-6">
					<h:selectOneMenu value="#{sort.sorter}">
						<f:selectItem itemLabel="Price Low to High"
							itemValue="Price Low to High" />
						<f:selectItem itemLabel="Price High to Low"
							itemValue="Price High to Low" />
						<f:ajax listener="#{sort.sort}" render="@all" />
					</h:selectOneMenu>
				</div>


			</h:form>

			<!-- This is the product grid -->

			<h:form>
				<div class="col-9 col-m-6">
					<ul>
						<ui:repeat var="product" value="#{products.dataModel}">

							<h:commandLink action="#{products.viewProduct}"
								class="col-3 col-m-6 prodimg">
								<div class="index_featured_products_product">
									<img class="index_featured_products_product_image"
										src="../../../../../../../../images/IndexImages/gnome_new.jpg" />
									<h:outputText value="#{product.name}"
										class="index_featured_products_product_title" />
									<h:outputText value="#{product.price}"
										class="index_featured_products_product_price" />
								</div>
							</h:commandLink>
						</ui:repeat>

					</ul>

				</div>

			</h:form>
		</div>
	</ui:define>
</ui:composition>